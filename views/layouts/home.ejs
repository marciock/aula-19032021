<% contentFor('body') %>

<div class="container">
  
  <form id="chat">
    <div class="form-group">
      <label for="name">Nome</label>
      <input type="text" class="form-control" id="name" >
    </div>
    <div class="form-group" >
      <div id="content" class="border" style="height:10em;width:auto;"></div>

    </div>
    <div class="form-group">
      <label for="message">Mensagem</label>
      <input type="text" class="form-control" id="message" >
    </div>
    <button type="button" class="btn btn-success" id="enviar">Enviar</button>
  </form>

</div>
<script src="socket.io/socket.io.js"></script>
<script>
  window.onload=()=>{

const enviar=document.getElementById('enviar');
const message=document.getElementById('message');
const content=document.getElementById('content');





//socket.io
const socket=io('http://localhost:3000');

socket.on('emitir',data=>{
  content.innerHTML=data;
})

enviar.addEventListener('click',()=>{

    const data=message.value;
    socket.emit('mensagem',data)
})
   
    
    

}
</script>